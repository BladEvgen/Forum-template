{% comment %}
Image Slider Component
Usage: {% include "components/image_slider.html" with images=note.images.all link=note.get_absolute_url %}
{% endcomment %}

<div class="image-slider w-full h-full">
  {% for image in images %}
    <div class="slide {% if forloop.first %}active{% endif %}">
      {% if link %}
        <a href="{{ link }}">
          <img src="{{ image.image.url }}" alt="Image {{ forloop.counter }}" class="w-full h-full object-cover">
        </a>
      {% else %}
        <img src="{{ image.image.url }}" alt="Image {{ forloop.counter }}" class="w-full h-full object-cover">
      {% endif %}
    </div>
  {% endfor %}
  
  {% if images.count > 1 %}
    <!-- Navigation Controls -->
    <button class="prev-slide absolute top-1/2 left-2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10">
      <i class="fas fa-chevron-left"></i>
    </button>
    <button class="next-slide absolute top-1/2 right-2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10">
      <i class="fas fa-chevron-right"></i>
    </button>
    
    <!-- Slide Indicators -->
    <div class="absolute bottom-2 inset-x-0 flex justify-center space-x-2 z-10">
      {% for image in images %}
        <button class="slide-indicator {% if forloop.first %}active{% endif %}"></button>
      {% endfor %}
    </div>
  {% endif %}
</div>